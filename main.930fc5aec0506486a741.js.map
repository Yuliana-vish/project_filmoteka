{"version":3,"sources":["webpack:///./template/movieModal.hbs","webpack:///./js/themes.js","webpack:///./template/moviesListTemplate.hbs","webpack:///./js/fetchAPIandMovieList/renderMovies.js","webpack:///./js/fetchAPIandMovieList/fetchAPI.js","webpack:///./js/pagination.js","webpack:///./js/fetchAPIandMovieList/moviesListEventsHandler.js","webpack:///./js/localStorage.js","webpack:///./js/modal.js","webpack:///./js/navigation.js","webpack:///./js/modal-footer.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","program","noop","lambda","alias3","inputRef","document","querySelector","themeChoice","localStorage","getItem","body","classList","remove","add","checked","addEventListener","e","target","setItem","moviesContainerRef","eContainerRef","pagRef","renderMovies","movies","ref","innerHTML","markup","insertAdjacentHTML","myKey","movieInputRef","moviesSearchActive","searchTag","page","itemsPerPage","adult","language","validTimeWindow","validMediaType","genresArray","errorHandler","error","fetchGenres","url","this","fetch","then","response","ok","json","genres","catch","res","slice","getMoviesWithGenreNames","results","map","movie","genre_ids","length","push","genresNamesArr","movieGenre","find","genre","id","name","release_date","substring","resetPageToFirst","value","searchMoviesbyTag","getTrendingMovies","getFullMovieInfo","movie_Id","console","log","searchMovies","movieListTmp","showMoviesInTrend","renderPagination","totalItems","Pagination","visiblePages","currentPage","moveButton","disabledMoveButton","moreButton","on","eventData","fetchAPI","initProgramFilmoteka","total_results","debounce","event","movieName","getFilms","key","filmsLocalStorage","JSON","parse","putFilms","films","pushFilm","index","indexOf","unshift","splice","stringify","refs","filmCard","movieModal","backdrop","closeModalBtn","movieContainer","require","pressEscape","code","closeModal","window","removeEventListener","checkAddedFilms","filmsStore","filmInfo","checkbox","button","textContent","onAddButtonClick","localStorageUtil","dataset","movieid","nodeName","fullInfo","filmsWatchedStore","filmsQueuedStore","modalMovieTemplate","addToWatchCheckbox","addToWatchButton","addToQueueCheckbox","addToQueueButton","onclick","home","library","header","search","buttonHeader","watchedBtn","queueBtn","gallery","hits","headerTitle","logo","preventDefault","replace","openModalFooterBtn","modalFooter","closeModalFooterBtn","overlayFooter","onCloseModal","onPressESC","onClickOverlay","currentTarget"],"mappings":"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","file":"main.930fc5aec0506486a741.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<img class=\\\"movie-modal-image\\\" src=\\\"https://image.tmdb.org/t/p/w500\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":67},\"end\":{\"line\":2,\"column\":82}}}) : helper)))\n    + \" \\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":90},\"end\":{\"line\":2,\"column\":108}}}) : helper)))\n    + \"\\\"\\r\\n    loading=\\\"lazy\\\" data-movieId=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":33},\"end\":{\"line\":3,\"column\":39}}}) : helper)))\n    + \"\\\">\\r\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    return \"<img class=\\\"movie-modal-image\\\" src=\\\"https://i.pinimg.com/564x/12/61/84/126184dfb0f0c766bfd35206dae35b37.jpg\\\"\\r\\n    alt=\\\"No photo\\\" loading=\\\"lazy\\\">\\r\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"genres\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(6, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":27,\"column\":16},\"end\":{\"line\":29,\"column\":25}}})) != null ? stack1 : \"\");\n},\"6\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                <span class=\\\"modal-genre-item\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</span>\\r\\n\";\n},\"8\":function(container,depth0,helpers,partials,data) {\n    return \"                <span class=\\\"modal-genre-item\\\">Other</span>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":7,\"column\":7}}})) != null ? stack1 : \"\")\n    + \"<div class=\\\"movie-modal-full-description\\\">\\r\\n    <h2 class=\\\"movie-modal-title\\\"> \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":35},\"end\":{\"line\":9,\"column\":53}}}) : helper)))\n    + \"</h2>\\r\\n    <div class=\\\"movie-modal-properties-values\\\">\\r\\n        <ul class=\\\"movie-modal-properties list\\\">\\r\\n            <li>Rating / Votes</li>\\r\\n            <li>Popularity</li>\\r\\n            <li> Original Title</li>\\r\\n            <li>Genre</li>\\r\\n        </ul>\\r\\n        <ul class=\\\"movie-modal-values list\\\">\\r\\n            <li class=\\\"modal-vote-count\\\">\\r\\n                <span class=\\\"modal-vote\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_average\") || (depth0 != null ? lookupProperty(depth0,\"vote_average\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_average\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":19,\"column\":41},\"end\":{\"line\":19,\"column\":57}}}) : helper)))\n    + \"</span>\\r\\n                <span class=\\\"modal-line\\\"> /</span>\\r\\n                <span class=\\\"modal-count\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_count\") || (depth0 != null ? lookupProperty(depth0,\"vote_count\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_count\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":42},\"end\":{\"line\":21,\"column\":56}}}) : helper)))\n    + \"</span>\\r\\n            </li>\\r\\n            <li>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"popularity\") || (depth0 != null ? lookupProperty(depth0,\"popularity\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"popularity\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":23,\"column\":16},\"end\":{\"line\":23,\"column\":30}}}) : helper)))\n    + \"</li>\\r\\n            <li class=\\\"modal-original-title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":24,\"column\":45},\"end\":{\"line\":24,\"column\":63}}}) : helper)))\n    + \"</li>\\r\\n            <li class=\\\"modal-genre\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"genres\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.program(8, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":26,\"column\":16},\"end\":{\"line\":32,\"column\":23}}})) != null ? stack1 : \"\")\n    + \"            </li>\\r\\n        </ul>\\r\\n    </div>\\r\\n    <h3 class=\\\"about-modal\\\">About</h3>\\r\\n    <p class=\\\"about-modal-description\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"overview\") || (depth0 != null ? lookupProperty(depth0,\"overview\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"overview\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":37,\"column\":39},\"end\":{\"line\":37,\"column\":51}}}) : helper)))\n    + \"</p>\\r\\n\\r\\n\\r\\n    <div class=\\\"buttons-wrapper movie-button\\\">\\r\\n        <input type=\\\"checkbox\\\" class=\\\"visuallyhidden watched-checkbox\\\">\\r\\n        <span class=\\\"button add-watched-button\\\" data-movieId=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":46,\"column\":62},\"end\":{\"line\":46,\"column\":68}}}) : helper)))\n    + \"\\\">add to watched</span>\\r\\n        <input type=\\\"checkbox\\\" class=\\\"visuallyhidden queue-checkbox \\\">\\r\\n        <span class=\\\"button add-queue-button\\\" data-movieId=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":48,\"column\":60},\"end\":{\"line\":48,\"column\":66}}}) : helper)))\n    + \"\\\">add to queue</span>\\r\\n\\r\\n    </div>\\r\\n</div>\";\n},\"useData\":true});","const inputRef = document.querySelector('.theme-switch__toggle');\r\n\r\nconst theme = {\r\n    LIGHT: 'light-theme',\r\n    DARK: 'dark-theme',\r\n};\r\nconst themeChoice = function () { \r\nif (localStorage.getItem(\"theme\") === \"light-theme\" || !(localStorage.getItem(\"theme\"))){\r\n    document.body.classList.remove('dark-theme');\r\n    document.body.classList.add('light-theme');  \r\n};\r\n\r\nif (localStorage.getItem(\"theme\") === \"dark-theme\") { \r\n    document.body.classList.remove('light-theme');\r\n    document.body.classList.add('dark-theme');\r\n    inputRef.checked = true;\r\n};\r\n}\r\n\r\nthemeChoice();\r\n\r\ninputRef.addEventListener('input', e => {\r\n    e.target.checked ? localStorage.setItem(\"theme\", \"dark-theme\") : localStorage.setItem(\"theme\", \"light-theme\");\r\n    themeChoice();\r\n});\r\n\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <li class=\\\"moviesList-item moviesList-item-js\\\" data-movieId=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":65},\"end\":{\"line\":3,\"column\":71}}}) : helper)))\n    + \"\\\">\\r\\n        <img src=\\\"https://image.tmdb.org/t/p/w300\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":49},\"end\":{\"line\":4,\"column\":64}}}) : helper)))\n    + \"\\\" alt=\\\"It seems the poster is missing\\\"\\r\\n            onerror=\\\"this.onerror=null;this.src='https://placeimg.com/200/300/animals';\\\" class=\\\"moviesList-poster\\\"\\r\\n            data-movieId=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":26},\"end\":{\"line\":6,\"column\":32}}}) : helper)))\n    + \"\\\" />\\r\\n        <a class=\\\"moviesList-movieName moviesList-movieName-js\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":64},\"end\":{\"line\":7,\"column\":73}}}) : helper)))\n    + \"</a>\\r\\n        <p class=\\\"moviesList-movieGenreAndYear moviesList-movieGenreAndYear-js\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"genre_ids\") || (depth0 != null ? lookupProperty(depth0,\"genre_ids\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"genre_ids\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":80},\"end\":{\"line\":8,\"column\":93}}}) : helper)))\n    + \" | \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"release_date\") || (depth0 != null ? lookupProperty(depth0,\"release_date\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"release_date\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":96},\"end\":{\"line\":8,\"column\":112}}}) : helper)))\n    + \"</p>\\r\\n    </li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<ul class=\\\"moviesList moviesList-js\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":4},\"end\":{\"line\":10,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"</ul>\\r\\n\\r\\n\\r\\n\\r\\n\";\n},\"useData\":true});","const moviesContainerRef = document.querySelector('.movies-container-js');\r\nconst eContainerRef = document.querySelector('.error-container-js');\r\nconst pagRef = document.querySelector('.pagination-container-js');\r\nexport default function renderMovies(movies, ref, template) {\r\n  moviesContainerRef.innerHTML = '';\r\n  eContainerRef.innerHTML = '';\r\n  const markup = template(movies);\r\n  pagRef.classList.remove('is-hidden');\r\n  ref.insertAdjacentHTML('beforeend', markup);\r\n}\r\n","import Pagination from 'tui-pagination';\r\nimport { initProgramFilmoteka } from './moviesListEventsHandler';\r\nimport movieListTmp from '../../template/moviesListTemplate.hbs';\r\nimport renderMovies from './renderMovies.js';\r\nconst myKey = '1690d1319b4e719ac3308f10c68ac649';\r\nconst moviesContainerRef = document.querySelector('.movies-container-js');\r\nconst movieInputRef = document.querySelector('.movie-searchTag-js');\r\nconst eContainerRef = document.querySelector('.error-container-js');\r\nconst pagRef = document.querySelector('.pagination-container-js');\r\nexport default {\r\n  moviesSearchActive: false, // ищем фильмы или рендер трендовых\r\n  searchTag: '',\r\n  page: 1,\r\n  itemsPerPage: 9,\r\n  adult: 'false', //false,true / отображать взрослый контент или нет\r\n  language: 'en-US', //ru-RU,ua-UA,en-US.....\r\n  validTimeWindow: 'day', //day,week  /  выбор между тренды за неделю или за день\r\n  validMediaType: 'movie', //all,movie,tv,person / тренды выбор всё,толькоо фильмы,только сериалы, по популярным актёрам\r\n  genresArray: [], // массив ид и имен жанров\r\n  errorHandler(error) {\r\n    //обработчик ошибок ( кетчей )\r\n    pagRef.classList.add('is-hidden');\r\n    eContainerRef.innerHTML =\r\n      error + '. It is a server error , Pls just try again!';\r\n  },\r\n  fetchGenres() {\r\n    //Функция забирает с сервера массив с именами и ид жанров\r\n    const url = `https://api.themoviedb.org/3/genre/movie/list?api_key=${myKey}&language=${this.language}`;\r\n    const f = fetch(url)\r\n      .then(response => {\r\n        if (response.ok) {\r\n          return response.json();\r\n        }\r\n      })\r\n      .then(response => response.genres)\r\n      .catch(this.errorHandler);\r\n    f.then(res => {\r\n      this.genresArray = res.slice();\r\n    });\r\n  },\r\n  getMoviesWithGenreNames(response) {\r\n    //Функция заменяет для фильма ид жанров на их имена\r\n\r\n    response.results.map(movie => {\r\n      if (movie.genre_ids.length === 0) {\r\n        movie.genre_ids.push('Genre');\r\n      } else {\r\n        const genresNamesArr = movie.genre_ids.map(movieGenre => {\r\n          const newEl = this.genresArray.find(genre => genre.id === movieGenre);\r\n          return newEl.name;\r\n        });\r\n        movie.genre_ids = genresNamesArr.slice();\r\n      }\r\n      if (movie.release_date === '') {\r\n        movie.release_date = 'Year';\r\n      } else {\r\n        movie.release_date = movie.release_date.substring(0, 4);\r\n      }\r\n\r\n      return movie;\r\n    });\r\n  },\r\n  resetPageToFirst() {\r\n    //сброс на 1ю страницу\r\n    this.page = 1;\r\n  },\r\n  get movieName() {\r\n    return this.searchTag;\r\n  },\r\n  set movieName(value) {\r\n    this.searchTag = value;\r\n  },\r\n  searchMoviesbyTag(page = 1) {\r\n    //Поиск фильма по тому что ввели в инпут\r\n    this.moviesSearchActive = true;\r\n\r\n    const url = `https://api.themoviedb.org/3/search/movie?api_key=${myKey}&language=${this.language}&query=${this.searchTag}&page=${page}&per_page=${this.itemsPerPage}&include_adult=${this.adult}`;\r\n    this.fetchGenres();\r\n    return fetch(url)\r\n      .then(response => {\r\n        if (response.ok) {\r\n          return response.json();\r\n        }\r\n      })\r\n      .then(response => {\r\n        //console.log(response); // в консоле можно посмотреть что пришло нам\r\n        if (response.results.length === 0) {\r\n          eContainerRef.innerHTML =\r\n            'Search result not successful. Enter the correct movie name and try again';\r\n          pagRef.classList.add('is-hidden');\r\n          moviesContainerRef.innerHTML =\r\n            'Search result not successful. Enter the correct movie name and try again';\r\n          return;\r\n        }\r\n        this.getMoviesWithGenreNames(response);\r\n        //this.page += 1;\r\n        return response;\r\n      })\r\n      .catch(this.errorHandler);\r\n  },\r\n  getTrendingMovies(page = 1) {\r\n    //Забирает с сервера трендовые фильмы , по умолчанию за день\r\n    this.moviesSearchActive = false;\r\n    movieInputRef.value = '';\r\n    const url = `https://api.themoviedb.org/3/trending/${this.validMediaType}/${this.validTimeWindow}?api_key=${myKey}&language=${this.language}&page=${page}&per_page=${this.itemsPerPage}`;\r\n    this.fetchGenres();\r\n    return fetch(url)\r\n      .then(response => {\r\n        if (response.ok) {\r\n          return response.json();\r\n        }\r\n      })\r\n      .then(response => {\r\n        this.getMoviesWithGenreNames(response);\r\n        this.page += 1;\r\n        return response;\r\n      })\r\n      .catch(this.errorHandler);\r\n  },\r\n  getFullMovieInfo(movie_Id) {\r\n    // возвращает полное инфо по фильму\r\n    // movie_Id можно взять из Li dataset.movieId к примеру getFullMovieInfo(event.target.dataset.movieId)\r\n    const url = `https://api.themoviedb.org/3/movie/${movie_Id}?api_key=${myKey}&language=en-US`;\r\n    return fetch(url)\r\n      .then(response => {\r\n        if (response.ok) {\r\n          return response.json();\r\n        }\r\n      })\r\n      .then(response => {\r\n        console.log(response);\r\n        return response;\r\n      })\r\n      .catch(this.errorHandler);\r\n  },\r\n\r\n  async searchMovies(page = 1) {\r\n    //рендер результата поиска возвращает промис\r\n    //moviesContainerRef.innerHTML = '';\r\n    return this.searchMoviesbyTag(page).then(response => {\r\n      renderMovies(response.results, moviesContainerRef, movieListTmp);\r\n      //console.log(response);\r\n      return response;\r\n    });\r\n  },\r\n  async showMoviesInTrend(page = 1) {\r\n    //рендер трендовых возвращает промис\r\n    //moviesContainerRef.innerHTML = '';\r\n    return this.getTrendingMovies(page).then(response => {\r\n      renderMovies(response.results, moviesContainerRef, movieListTmp);\r\n      //console.log(response);\r\n      return response;\r\n    });\r\n  },\r\n};\r\n","import Pagination from 'tui-pagination';\r\n// import { showMoviesInTrend } from './fetchAPIandMovieList/moviesListEventsHandler';\r\n// import { searchMovies } from './fetchAPIandMovieList/moviesListEventsHandler';\r\nimport fetchAPI from '../js/fetchAPIandMovieList/fetchAPI';\r\n//import 'tui-pagination/dist/tui-pagination.css';\r\n\r\nexport default function renderPagination(totalItems) {\r\n  //console.log(totalItems);\r\n  const pagination = new Pagination('pagination', {\r\n    totalItems,\r\n    itemsPerPage: 20,\r\n    visiblePages: 5,\r\n    template: {\r\n      page: '<a href=\"#\" class=\"tui-page-btn btn-page1 btn\">{{page}}</a>',\r\n      currentPage:\r\n        '<a href=\"#\" class=\"tui-page-btn btn-page1 active btn\">{{page}}</a>',\r\n      moveButton: '<a href =\"#\" class=\" {{type}} custom-class-{{type}}\"></a>',\r\n      disabledMoveButton:\r\n        '<a href =\"#\" class=\"{{type}} custom-class-{{type}}\"></a>',\r\n      moreButton:\r\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip custom-class-{{type}}\">' +\r\n        '<span class=\"tui-ico-ellip\">...</span>' +\r\n        '</a>',\r\n    },\r\n  });\r\n  pagination.on('afterMove', function (eventData) {\r\n    console.log('poisk ili net', fetchAPI.moviesSearchActive);\r\n    if (fetchAPI.moviesSearchActive === false) {\r\n      fetchAPI.showMoviesInTrend(eventData.page);\r\n    } else if (fetchAPI.moviesSearchActive === true) {\r\n      fetchAPI.searchMovies(eventData.page);\r\n    }\r\n  });\r\n}\r\n","import fetchAPI from './fetchAPI';\r\nimport debounce from 'lodash.debounce';\r\nimport renderMovies from './renderMovies.js';\r\nimport movieListTmp from '../../template/moviesListTemplate.hbs';\r\nimport renderPagination from '../pagination';\r\nconst refs = {\r\n  movieInputRef: document.querySelector('.movie-searchTag-js'),\r\n  moviesContainerRef: document.querySelector('.movies-container-js'),\r\n};\r\n// export async function searchMovies(page = 1) {\r\n//   refs.moviesContainerRef.innerHTML = '';\r\n//   return fetchAPI.searchMoviesbyTag(page).then(response => {\r\n//     renderMovies(response.results, refs.moviesContainerRef, movieListTmp);\r\n//     //console.log(response);\r\n//     return response;\r\n//   });\r\n// }\r\n\r\n// export async function showMoviesInTrend(page = 1) {\r\n//   //fetchAPI.resetPageToFirst();\r\n\r\n//   refs.moviesContainerRef.innerHTML = '';\r\n//   return fetchAPI.getTrendingMovies(page).then(response => {\r\n//     renderMovies(response.results, refs.moviesContainerRef, movieListTmp);\r\n//     //console.log(response);\r\n//     return response;\r\n//     //renderPagination(response.total_results);\r\n//     //console.log(results);\r\n//   });\r\n// }\r\n\r\nfunction inputHandler(event) {\r\n  const movieName = event.target.value;\r\n  if (movieName == '') {\r\n    fetchAPI.moviesSearchActive = false;\r\n    initProgramFilmoteka();\r\n    return;\r\n  }\r\n  fetchAPI.movieName = movieName;\r\n  fetchAPI.moviesSearchActive = true;\r\n\r\n  initProgramFilmoteka();\r\n}\r\n\r\nrefs.movieInputRef.addEventListener('input', debounce(inputHandler, 500));\r\nexport async function initProgramFilmoteka() {\r\n  let response;\r\n  if (fetchAPI.moviesSearchActive === false) {\r\n    response = await fetchAPI.showMoviesInTrend();\r\n  } else if (fetchAPI.moviesSearchActive === true) {\r\n    response = await fetchAPI.searchMovies();\r\n  }\r\n  renderPagination(response.total_results);\r\n}\r\ninitProgramFilmoteka();\r\n","export default {\r\n  getFilms(key) {\r\n    const filmsLocalStorage = localStorage.getItem(key);\r\n    if (filmsLocalStorage !== null) {\r\n      return JSON.parse(filmsLocalStorage);\r\n    }\r\n    return [];\r\n  },\r\n\r\n  putFilms(key, id) {\r\n    let films = this.getFilms(key);\r\n    let pushFilm = false;\r\n    const index = films.indexOf(id);\r\n    if (index === -1) {\r\n      films.unshift(id);\r\n      pushFilm = true;\r\n    } else {\r\n      films.splice(index, 1);\r\n    }\r\n\r\n    localStorage.setItem(key, JSON.stringify(films));\r\n    return { pushFilm, films };\r\n  },\r\n};\r\n","const refs = {\r\n  body: document.querySelector('body'),\r\n  filmCard: document.querySelector('.film-card'),\r\n  movieModal: document.querySelector('.movie-modal'),\r\n  backdrop: document.querySelector('.backdrop'),\r\n  closeModalBtn: document.querySelector('.close-button'),\r\n\r\n  //test\r\n  movieContainer: document.querySelector('.movies-container-js'),\r\n  // movieContainer: document.querySelector('.moviesList-item'),\r\n};\r\n\r\n//test\r\nimport fetchAPI from '../js/fetchAPIandMovieList/fetchAPI';\r\nimport renderMovies from '../js/fetchAPIandMovieList/renderMovies.js';\r\nimport '../js/fetchAPIandMovieList/moviesListEventsHandler.js';\r\nimport '../js/fetchAPIandMovieList/renderMovies.js';\r\nimport '../js/fetchAPIandMovieList/fetchAPI.js';\r\nimport localStorageUtil from './localStorage';\r\n\r\n//test\r\nimport modalMovieTemplate from '../template/movieModal.hbs';\r\nconst debounce = require('lodash.debounce');\r\nrefs.movieContainer.addEventListener('click', debounce(openModal, 100));\r\n\r\n//test\r\nfunction openModal(event) {\r\n  if (event.target.nodeName !== 'IMG') {\r\n    return;\r\n  }\r\n  refs.movieModal.classList.remove('is-hidden');\r\n  refs.body.classList.add('modal-overflow');\r\n  window.addEventListener('keydown', pressEscape);\r\n  refs.closeModalBtn.addEventListener('click', closeModal);\r\n  refs.backdrop.addEventListener('click', closeModal);\r\n\r\n  const fullInfoPromise = fetchAPI.getFullMovieInfo(\r\n    event.target.dataset.movieid,\r\n  );\r\n  fullInfoPromise.then(fullInfo => {\r\n    const filmsWatchedStore = localStorageUtil.getFilms('watched');\r\n    const filmsQueuedStore = localStorageUtil.getFilms('queue');\r\n\r\n    refs.filmCard.insertAdjacentHTML('beforeend', modalMovieTemplate(fullInfo));\r\n    const addToWatchCheckbox = document.querySelector('.watched-checkbox');\r\n    const addToWatchButton = document.querySelector('.add-watched-button');\r\n    const addToQueueCheckbox = document.querySelector('.queue-checkbox');\r\n    const addToQueueButton = document.querySelector('.add-queue-button');\r\n\r\n    checkAddedFilms(\r\n      filmsWatchedStore,\r\n      fullInfo,\r\n      addToWatchCheckbox,\r\n      addToWatchButton,\r\n      'watched',\r\n    );\r\n    checkAddedFilms(\r\n      filmsQueuedStore,\r\n      fullInfo,\r\n      addToQueueCheckbox,\r\n      addToQueueButton,\r\n      'queue',\r\n    );\r\n\r\n    addToWatchButton.onclick = event => onAddButtonClick(event, 'watched');\r\n    addToQueueButton.onclick = event => onAddButtonClick(event, 'queue');\r\n  });\r\n}\r\n\r\nfunction pressEscape(event) {\r\n  if (event.code === 'Escape') {\r\n    closeModal();\r\n  }\r\n}\r\n\r\nfunction closeModal() {\r\n  refs.movieModal.classList.add('is-hidden');\r\n  refs.body.classList.remove('modal-overflow');\r\n  window.removeEventListener('keydown', pressEscape);\r\n  refs.filmCard.innerHTML = '';\r\n}\r\n\r\nfunction checkAddedFilms(filmsStore, filmInfo, checkbox, button, key) {\r\n  if (filmsStore.indexOf(JSON.stringify(filmInfo.id)) === -1) {\r\n    checkbox.checked = false;\r\n    button.classList.remove('active');\r\n    button.textContent = `ADD TO ${key}`;\r\n  } else {\r\n    checkbox.checked = true;\r\n    button.classList.add('active');\r\n    button.textContent = `REMOVE FROM ${key}`;\r\n  }\r\n}\r\nfunction onAddButtonClick(event, key) {\r\n  const { pushFilm, films } = localStorageUtil.putFilms(\r\n    key,\r\n    event.target.dataset.movieid,\r\n  );\r\n  if (pushFilm) {\r\n    event.target.textContent = `REMOVE FROM ${key}`;\r\n    event.target.classList.add('active');\r\n  } else {\r\n    event.target.textContent = `ADD TO ${key}`;\r\n    event.target.classList.remove('active');\r\n  }\r\n}\r\n","const refs = {\r\n  home: document.querySelector('.home-link'),\r\n  library: document.querySelector('.lib-link'),\r\n  header: document.querySelector('.header'),\r\n  search: document.querySelector('.form-search'),\r\n  buttonHeader: document.querySelector('.button-header'),\r\n  watchedBtn: document.querySelector('button-watched'),\r\n  queueBtn: document.querySelector('button-queque'),\r\n  gallery: document.querySelector('.movies-container'),\r\n  hits: document.querySelector('movie-searchTag'),\r\n  headerTitle: document.querySelector('.link-title'),\r\n  logo: document.querySelector('.logo-icon'),\r\n};\r\n\r\nrefs.home.addEventListener('click', activeHome);\r\nrefs.library.addEventListener('click', activelibrary);\r\n\r\nfunction activeHome(e) {\r\n  e.preventDefault();\r\n\r\n  refs.header.classList.replace('header-lib', 'header-home');\r\n  refs.search.classList.remove('is-hidden');\r\n  refs.buttonHeader.classList.add('is-hidden');\r\n  refs.library.classList.remove('is-active');\r\n  refs.home.classList.add('is-active');\r\n}\r\n\r\nfunction activelibrary(e) {\r\n  e.preventDefault();\r\n\r\n  refs.header.classList.replace('header-home', 'header-lib');\r\n  refs.buttonHeader.classList.remove('is-hidden');\r\n  refs.search.classList.add('is-hidden');\r\n  refs.home.classList.remove('is-active');\r\n  refs.library.classList.add('is-active');\r\n}\r\n","const refs = {\r\n  openModalFooterBtn: document.querySelector('[data-modal-footer-open]'),\r\n  modalFooter: document.querySelector('.js-lightbox'),\r\n  closeModalFooterBtn: document.querySelector('.lightbox-button'),\r\n    overlayFooter: document.querySelector('.lightbox-overlay'),\r\n}\r\n\r\nrefs.openModalFooterBtn.addEventListener('click', onOpenModal);\r\nrefs.closeModalFooterBtn.addEventListener('click', onCloseModal);\r\n\r\n\r\n\r\nfunction onOpenModal(e) {\r\n\r\n    e.preventDefault()\r\n  window.addEventListener('keydown', onPressESC);\r\n  \r\n  refs.modalFooter.classList.add('is-open');\r\n  refs.overlayFooter.addEventListener('click', onClickOverlay);\r\n}\r\n\r\nfunction onCloseModal(e) {\r\n  window.removeEventListener('keydown', onPressESC);\r\n  \r\n  refs.modalFooter.classList.remove('is-open');\r\n}\r\n\r\nfunction onPressESC(e) {\r\n  if (e.code === 'Escape') {\r\n    onCloseModal();\r\n  }\r\n}\r\n\r\nfunction onClickOverlay(e) {\r\n  if (e.target === e.currentTarget) {\r\n    onCloseModal();\r\n  }\r\n}\r\n"],"sourceRoot":""}