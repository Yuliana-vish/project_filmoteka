(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"2mXJ":function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,o){var r,i=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<img class="movie-modal-image" src="https://image.tmdb.org/t/p/w500'+s("function"==typeof(r=null!=(r=c(n,"poster_path")||(null!=t?c(t,"poster_path"):t))?r:l)?r.call(i,{name:"poster_path",hash:{},data:o,loc:{start:{line:2,column:67},end:{line:2,column:82}}}):r)+' " alt="'+s("function"==typeof(r=null!=(r=c(n,"original_title")||(null!=t?c(t,"original_title"):t))?r:l)?r.call(i,{name:"original_title",hash:{},data:o,loc:{start:{line:2,column:90},end:{line:2,column:108}}}):r)+'"\r\n    loading="lazy" data-movieId="'+s("function"==typeof(r=null!=(r=c(n,"id")||(null!=t?c(t,"id"):t))?r:l)?r.call(i,{name:"id",hash:{},data:o,loc:{start:{line:3,column:33},end:{line:3,column:39}}}):r)+'">\r\n'},3:function(e,t,n,a,o){return'<img class="movie-modal-image" src="https://i.pinimg.com/564x/12/61/84/126184dfb0f0c766bfd35206dae35b37.jpg"\r\n    alt="No photo" loading="lazy">\r\n'},5:function(e,t,n,a,o){var r,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(r=i(n,"each").call(null!=t?t:e.nullContext||{},null!=t?i(t,"genres"):t,{name:"each",hash:{},fn:e.program(6,o,0),inverse:e.noop,data:o,loc:{start:{line:27,column:16},end:{line:29,column:25}}}))?r:""},6:function(e,t,n,a,o){var r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <span class="modal-genre-item">'+e.escapeExpression(e.lambda(null!=t?r(t,"name"):t,t))+"</span>\r\n"},8:function(e,t,n,a,o){return'                <span class="modal-genre-item">Other</span>\r\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var r,i,l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,c="function",u=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(r=d(n,"if").call(l,null!=t?d(t,"poster_path"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:1,column:0},end:{line:7,column:7}}}))?r:"")+'<div class="movie-modal-full-description">\r\n    <h2 class="movie-modal-title"> '+u(typeof(i=null!=(i=d(n,"original_title")||(null!=t?d(t,"original_title"):t))?i:s)===c?i.call(l,{name:"original_title",hash:{},data:o,loc:{start:{line:9,column:35},end:{line:9,column:53}}}):i)+'</h2>\r\n    <div class="movie-modal-properties-values">\r\n        <ul class="movie-modal-properties list">\r\n            <li>Rating / Votes</li>\r\n            <li>Popularity</li>\r\n            <li> Original Title</li>\r\n            <li>Genre</li>\r\n        </ul>\r\n        <ul class="movie-modal-values list">\r\n            <li class="modal-vote-count">\r\n                <span class="modal-vote">'+u(typeof(i=null!=(i=d(n,"vote_average")||(null!=t?d(t,"vote_average"):t))?i:s)===c?i.call(l,{name:"vote_average",hash:{},data:o,loc:{start:{line:19,column:41},end:{line:19,column:57}}}):i)+'</span>\r\n                <span class="modal-line"> /</span>\r\n                <span class="modal-count">'+u(typeof(i=null!=(i=d(n,"vote_count")||(null!=t?d(t,"vote_count"):t))?i:s)===c?i.call(l,{name:"vote_count",hash:{},data:o,loc:{start:{line:21,column:42},end:{line:21,column:56}}}):i)+"</span>\r\n            </li>\r\n            <li>"+u(typeof(i=null!=(i=d(n,"popularity")||(null!=t?d(t,"popularity"):t))?i:s)===c?i.call(l,{name:"popularity",hash:{},data:o,loc:{start:{line:23,column:16},end:{line:23,column:30}}}):i)+'</li>\r\n            <li class="modal-original-title">'+u(typeof(i=null!=(i=d(n,"original_title")||(null!=t?d(t,"original_title"):t))?i:s)===c?i.call(l,{name:"original_title",hash:{},data:o,loc:{start:{line:24,column:45},end:{line:24,column:63}}}):i)+'</li>\r\n            <li class="modal-genre">\r\n'+(null!=(r=d(n,"if").call(l,null!=t?d(t,"genres"):t,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.program(8,o,0),data:o,loc:{start:{line:26,column:16},end:{line:32,column:23}}}))?r:"")+'            </li>\r\n        </ul>\r\n    </div>\r\n    <h3 class="about-modal">About</h3>\r\n    <p class="about-modal-description">'+u(typeof(i=null!=(i=d(n,"overview")||(null!=t?d(t,"overview"):t))?i:s)===c?i.call(l,{name:"overview",hash:{},data:o,loc:{start:{line:37,column:39},end:{line:37,column:51}}}):i)+'</p>\r\n\r\n\r\n    <div class="buttons-wrapper movie-button">\r\n        <input type="checkbox" class="visuallyhidden watched-checkbox">\r\n        <span class="button add-watched-button" data-movieId="'+u(typeof(i=null!=(i=d(n,"id")||(null!=t?d(t,"id"):t))?i:s)===c?i.call(l,{name:"id",hash:{},data:o,loc:{start:{line:46,column:62},end:{line:46,column:68}}}):i)+'">add to watched</span>\r\n        <input type="checkbox" class="visuallyhidden queue-checkbox ">\r\n        <span class="button add-queue-button" data-movieId="'+u(typeof(i=null!=(i=d(n,"id")||(null!=t?d(t,"id"):t))?i:s)===c?i.call(l,{name:"id",hash:{},data:o,loc:{start:{line:48,column:60},end:{line:48,column:66}}}):i)+'">add to queue</span>\r\n\r\n    </div>\r\n</div>'},useData:!0})},"2oSf":function(e,t){var n=document.querySelector(".theme-switch__toggle"),a=function(){"light-theme"!==localStorage.getItem("theme")&&localStorage.getItem("theme")||(document.body.classList.remove("dark-theme"),document.body.classList.add("light-theme")),"dark-theme"===localStorage.getItem("theme")&&(document.body.classList.remove("light-theme"),document.body.classList.add("dark-theme"),n.checked=!0)};a(),n.addEventListener("input",(function(e){e.target.checked?localStorage.setItem("theme","dark-theme"):localStorage.setItem("theme","light-theme"),a()}))},"Dv/5":function(e,t,n){},KHso:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,o){var r,i=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,s="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <li class="moviesList-item moviesList-item-js" data-movieId="'+c(typeof(r=null!=(r=u(n,"id")||(null!=t?u(t,"id"):t))?r:l)===s?r.call(i,{name:"id",hash:{},data:o,loc:{start:{line:3,column:65},end:{line:3,column:71}}}):r)+'">\r\n        <img src="https://image.tmdb.org/t/p/w300'+c(typeof(r=null!=(r=u(n,"poster_path")||(null!=t?u(t,"poster_path"):t))?r:l)===s?r.call(i,{name:"poster_path",hash:{},data:o,loc:{start:{line:4,column:49},end:{line:4,column:64}}}):r)+'" alt="It seems the poster is missing"\r\n            onerror="this.onerror=null;this.src=\'https://placeimg.com/200/300/animals\';" class="moviesList-poster"\r\n            data-movieId="'+c(typeof(r=null!=(r=u(n,"id")||(null!=t?u(t,"id"):t))?r:l)===s?r.call(i,{name:"id",hash:{},data:o,loc:{start:{line:6,column:26},end:{line:6,column:32}}}):r)+'" />\r\n        <a class="moviesList-movieName moviesList-movieName-js">'+c(typeof(r=null!=(r=u(n,"title")||(null!=t?u(t,"title"):t))?r:l)===s?r.call(i,{name:"title",hash:{},data:o,loc:{start:{line:7,column:64},end:{line:7,column:73}}}):r)+'</a>\r\n        <p class="moviesList-movieGenreAndYear moviesList-movieGenreAndYear-js">'+c(typeof(r=null!=(r=u(n,"genre_ids")||(null!=t?u(t,"genre_ids"):t))?r:l)===s?r.call(i,{name:"genre_ids",hash:{},data:o,loc:{start:{line:8,column:80},end:{line:8,column:93}}}):r)+" | "+c(typeof(r=null!=(r=u(n,"release_date")||(null!=t?u(t,"release_date"):t))?r:l)===s?r.call(i,{name:"release_date",hash:{},data:o,loc:{start:{line:8,column:96},end:{line:8,column:112}}}):r)+"</p>\r\n    </li>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var r;return'<ul class="moviesList moviesList-js">\r\n'+(null!=(r=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:2,column:4},end:{line:10,column:13}}}))?r:"")+"</ul>\r\n\r\n\r\n\r\n"},useData:!0})},QfWi:function(e,t,n){"use strict";n.r(t);n("wcNg"),n("FdtR"),n("JBxO"),n("WB5j"),n("lmye"),n("IlJM"),n("D/wG");var a=n("2c84"),o=n.n(a),r=n("KHso"),i=n.n(r),l=document.querySelector(".movies-container-js"),s=document.querySelector(".error-container-js"),c=document.querySelector(".pagination-container-js");function u(e,t,n){l.innerHTML="",s.innerHTML="";var a=n(e);c.classList.remove("is-hidden"),t.insertAdjacentHTML("beforeend",a)}function d(e,t,n,a,o,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(a,o)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var r=e.apply(t,n);function i(e){d(r,a,o,i,l,"next",e)}function l(e){d(r,a,o,i,l,"throw",e)}i(void 0)}))}}var h="1690d1319b4e719ac3308f10c68ac649",p=document.querySelector(".movies-container-js"),v=document.querySelector(".movie-searchTag-js"),f=document.querySelector(".error-container-js"),g=document.querySelector(".pagination-container-js"),y={moviesSearchActive:!1,searchTag:"",page:1,itemsPerPage:9,adult:"false",language:"en-US",validTimeWindow:"day",validMediaType:"movie",genresArray:[],errorHandler:function(e){g.classList.add("is-hidden"),f.innerHTML=e+". It is a server error , Pls just try again!"},fetchGenres:function(){var e=this,t="https://api.themoviedb.org/3/genre/movie/list?api_key="+h+"&language="+this.language;fetch(t).then((function(e){if(e.ok)return e.json()})).then((function(e){return e.genres})).catch(this.errorHandler).then((function(t){e.genresArray=t.slice()}))},getMoviesWithGenreNames:function(e){var t=this;e.results.map((function(e){if(0===e.genre_ids.length)e.genre_ids.push("Genre");else{var n=e.genre_ids.map((function(e){return t.genresArray.find((function(t){return t.id===e})).name}));e.genre_ids=n.slice()}return""===e.release_date?e.release_date="Year":e.release_date=e.release_date.substring(0,4),e}))},resetPageToFirst:function(){this.page=1},get movieName(){return this.searchTag},set movieName(e){this.searchTag=e},searchMoviesbyTag:function(e){var t=this;void 0===e&&(e=1),this.moviesSearchActive=!0;var n="https://api.themoviedb.org/3/search/movie?api_key="+h+"&language="+this.language+"&query="+this.searchTag+"&page="+e+"&per_page="+this.itemsPerPage+"&include_adult="+this.adult;return this.fetchGenres(),fetch(n).then((function(e){if(e.ok)return e.json()})).then((function(e){return 0===e.results.length?(f.innerHTML="Search result not successful. Enter the correct movie name and try again",g.classList.add("is-hidden"),void(p.innerHTML="Search result not successful. Enter the correct movie name and try again")):(t.getMoviesWithGenreNames(e),e)})).catch(this.errorHandler)},getTrendingMovies:function(e){var t=this;void 0===e&&(e=1),this.moviesSearchActive=!1,v.value="";var n="https://api.themoviedb.org/3/trending/"+this.validMediaType+"/"+this.validTimeWindow+"?api_key="+h+"&language="+this.language+"&page="+e+"&per_page="+this.itemsPerPage;return this.fetchGenres(),fetch(n).then((function(e){if(e.ok)return e.json()})).then((function(e){return t.getMoviesWithGenreNames(e),t.page+=1,e})).catch(this.errorHandler)},getFullMovieInfo:function(e){return fetch("https://api.themoviedb.org/3/movie/"+e+"?api_key="+h+"&language=en-US").then((function(e){if(e.ok)return e.json()})).then((function(e){return console.log(e),e})).catch(this.errorHandler)},searchMovies:function(e){var t=this;return m(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return void 0===e&&(e=1),n.abrupt("return",t.searchMoviesbyTag(e).then((function(e){return u(e.results,p,i.a),e})));case 2:case"end":return n.stop()}}),n)})))()},showMoviesInTrend:function(e){var t=this;return m(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return void 0===e&&(e=1),n.abrupt("return",t.getTrendingMovies(e).then((function(e){return u(e.results,p,i.a),e})));case 2:case"end":return n.stop()}}),n)})))()}},b=n("jffb"),w=n.n(b);function S(e){new o.a("pagination",{totalItems:e,itemsPerPage:20,visiblePages:5,template:{page:'<a href="#" class="tui-page-btn btn-page1 btn">{{page}}</a>',currentPage:'<a href="#" class="tui-page-btn btn-page1 active btn">{{page}}</a>',moveButton:'<a href ="#" class=" {{type}} custom-class-{{type}}"></a>',disabledMoveButton:'<a href ="#" class="{{type}} custom-class-{{type}}"></a>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip custom-class-{{type}}"><span class="tui-ico-ellip">...</span></a>'}}).on("afterMove",(function(e){console.log("poisk ili net",y.moviesSearchActive),!1===y.moviesSearchActive?y.showMoviesInTrend(e.page):!0===y.moviesSearchActive&&y.searchMovies(e.page)}))}function k(e,t,n,a,o,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(a,o)}function L(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var r=e.apply(t,n);function i(e){k(r,a,o,i,l,"next",e)}function l(e){k(r,a,o,i,l,"throw",e)}i(void 0)}))}}function q(){return M.apply(this,arguments)}function M(){return(M=L(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==y.moviesSearchActive){e.next=6;break}return e.next=3,y.showMoviesInTrend();case 3:t=e.sent,e.next=10;break;case 6:if(!0!==y.moviesSearchActive){e.next=10;break}return e.next=9,y.searchMovies();case 9:t=e.sent;case 10:S(t.total_results);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}({movieInputRef:document.querySelector(".movie-searchTag-js"),moviesContainerRef:document.querySelector(".movies-container-js")}).movieInputRef.addEventListener("input",w()((function(e){var t=e.target.value;if(""==t)return y.moviesSearchActive=!1,void q();y.movieName=t,y.moviesSearchActive=!0,q()}),500)),q();n("Dv/5"),n("uQK7"),n("Xlt+");var _={getFilms:function(e){var t=localStorage.getItem(e);return null!==t?JSON.parse(t):[]},putFilms:function(e,t){var n=this.getFilms(e),a=!1,o=n.indexOf(t);return-1===o?(n.unshift(t),a=!0):n.splice(o,1),localStorage.setItem(e,JSON.stringify(n)),{pushFilm:a,films:n}}},x=n("2mXJ"),j=n.n(x),T={body:document.querySelector("body"),filmCard:document.querySelector(".film-card"),movieModal:document.querySelector(".movie-modal"),backdrop:document.querySelector(".backdrop"),closeModalBtn:document.querySelector(".close-button"),movieContainer:document.querySelector(".movies-container-js")},P=n("jffb");function E(e){"Escape"===e.code&&O()}function O(){T.movieModal.classList.add("is-hidden"),T.body.classList.remove("modal-overflow"),window.removeEventListener("keydown",E),T.filmCard.innerHTML=""}function I(e,t,n,a,o){-1===e.indexOf(JSON.stringify(t.id))?(n.checked=!1,a.classList.remove("active"),a.textContent="ADD TO "+o):(n.checked=!0,a.classList.add("active"),a.textContent="REMOVE FROM "+o)}function F(e,t){var n=_.putFilms(t,e.target.dataset.movieid),a=n.pushFilm;n.films;a?(e.target.textContent="REMOVE FROM "+t,e.target.classList.add("active")):(e.target.textContent="ADD TO "+t,e.target.classList.remove("active"))}T.movieContainer.addEventListener("click",P((function(e){if("IMG"!==e.target.nodeName)return;T.movieModal.classList.remove("is-hidden"),T.body.classList.add("modal-overflow"),window.addEventListener("keydown",E),T.closeModalBtn.addEventListener("click",O),T.backdrop.addEventListener("click",O),y.getFullMovieInfo(e.target.dataset.movieid).then((function(e){var t=_.getFilms("watched"),n=_.getFilms("queue");T.filmCard.insertAdjacentHTML("beforeend",j()(e));var a=document.querySelector(".watched-checkbox"),o=document.querySelector(".add-watched-button"),r=document.querySelector(".queue-checkbox"),i=document.querySelector(".add-queue-button");I(t,e,a,o,"watched"),I(n,e,r,i,"queue"),o.onclick=function(e){return F(e,"watched")},i.onclick=function(e){return F(e,"queue")}}))}),100));n("fWRK"),n("y89P"),n("Muwe"),n("X5mX");var A={home:document.querySelector(".home-link"),library:document.querySelector(".lib-link"),header:document.querySelector(".header"),search:document.querySelector(".form-search"),buttonHeader:document.querySelector(".button-header"),watchedBtn:document.querySelector("button-watched"),queueBtn:document.querySelector("button-queque"),gallery:document.querySelector(".movies-container"),hits:document.querySelector("movie-searchTag"),headerTitle:document.querySelector(".link-title"),logo:document.querySelector(".logo-icon")};A.home.addEventListener("click",(function(e){e.preventDefault(),A.header.classList.replace("header-lib","header-home"),A.search.classList.remove("is-hidden"),A.buttonHeader.classList.add("is-hidden"),A.library.classList.remove("is-active"),A.home.classList.add("is-active")})),A.library.addEventListener("click",(function(e){e.preventDefault(),A.header.classList.replace("header-home","header-lib"),A.buttonHeader.classList.remove("is-hidden"),A.search.classList.add("is-hidden"),A.home.classList.remove("is-active"),A.library.classList.add("is-active")}));n("2oSf")},fWRK:function(e,t){var n={openModalFooterBtn:document.querySelector("[data-modal-footer-open]"),modalFooter:document.querySelector(".js-lightbox"),closeModalFooterBtn:document.querySelector(".lightbox-button"),overlayFooter:document.querySelector(".lightbox-overlay")};function a(e){window.removeEventListener("keydown",o),n.modalFooter.classList.remove("is-open")}function o(e){"Escape"===e.code&&a()}function r(e){e.target===e.currentTarget&&a()}n.openModalFooterBtn.addEventListener("click",(function(e){e.preventDefault(),window.addEventListener("keydown",o),n.modalFooter.classList.add("is-open"),n.overlayFooter.addEventListener("click",r)})),n.closeModalFooterBtn.addEventListener("click",a)}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.930fc5aec0506486a741.js.map